<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="cancel()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Add Skill</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="save()" [disabled]="skillForm.invalid">
        Save
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="skillForm" class="skill-form-container">
    <!-- Skill Name -->
    <ion-item lines="full">
      <ion-label position="floating">
        Skill Name
        <span class="required">*</span>
      </ion-label>
      <ion-input
        formControlName="name"
        type="text"
        placeholder="e.g., Angular, Python, UI Design"
      ></ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="submitted && name?.invalid">
      <p class="error-text" *ngIf="name?.hasError('required')">
        <ion-icon name="alert-circle"></ion-icon>
        Skill name is required
      </p>
      <p class="error-text" *ngIf="name?.hasError('minlength')">
        <ion-icon name="alert-circle"></ion-icon>
        Skill name must be at least 2 characters
      </p>
    </ion-text>

    <!-- Category -->
    <ion-item lines="full">
      <ion-label position="floating">
        Category
        <span class="required">*</span>
      </ion-label>
      <ion-select formControlName="category" placeholder="Select category">
        <ion-select-option *ngFor="let cat of categories" [value]="cat">
          {{ cat }}
        </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-text color="danger" *ngIf="submitted && category?.invalid">
      <p class="error-text">
        <ion-icon name="alert-circle"></ion-icon>
        Category is required
      </p>
    </ion-text>

    <!-- Proficiency Level -->
    <ion-item lines="full">
      <ion-label position="floating">
        Proficiency Level
        <span class="required">*</span>
      </ion-label>
      <ion-select formControlName="proficiency" placeholder="Select proficiency">
        <ion-select-option *ngFor="let prof of proficiencies" [value]="prof">
          {{ prof }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Action Buttons -->
    <div class="button-group">
      <ion-button expand="block" fill="outline" (click)="cancel()">
        Cancel
      </ion-button>
      <ion-button expand="block" (click)="save()" [disabled]="skillForm.invalid">
        Save Skill
      </ion-button>
    </div>
  </form>
</ion-content>
